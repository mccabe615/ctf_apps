(function(a){a.plugins.Link=function(b){var c=a.I18n;(!b.settings.link||b.settings.link.skip_css)&&a.DOM.loadCSS(a.baseURL+"/plugins/link/css/editor.css"),a.extend(b.commands,{mceInsertLink:function(a,d,e){var f,g=b.selection.getNode();f=prompt(c.enterhref,g.nodeName=="A"?b.dom.getAttr(g,"href"):""),f&&(b.selection.isCollapsed()?b.selection.setContent('<a href="'+f+'">'+f+"</a>"):b.execCommand("CreateLink",0,f))}}),a.extend(b.tools,{link:{cmd:"mceInsertLink",title:c.link},unlink:{cmd:"Unlink",title:c.unlink}})},a.extend(a.I18n,{link:"Insert link",unlink:"Unlink",enterhref:"Enter the URL of the link"})})(punymce);